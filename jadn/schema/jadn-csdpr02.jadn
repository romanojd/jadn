{
 "meta": {
  "module": "oasis-open.org/openc2/jadn/v1.0",
  "patch": "0-csdpr02",
  "title": "JADN Syntax",
  "description": "Syntax of a JSON Abstract Data Notation (JADN) module.",
  "exports": ["Schema", "Uname"]
 },

 "types": [
  ["Schema", "Record", [], "Definition of a JADN file", [
    [1, "meta", "Meta", [], "Information about this schema module"],
    [2, "types", "Type", ["]0"], "Types defined in this schema module"]
  ]],

  ["Meta", "Map", [], "Meta-information about this schema", [
    [1, "module", "Uname", [], "Schema unique name/version"],
    [2, "patch", "String", ["[0"], "Patch version"],
    [3, "title", "String", ["[0"], "Title"],
    [4, "description", "String", ["[0"], "Description"],
    [5, "imports", "Import", ["[0", "]0"], "Imported schema modules"],
    [6, "exports", "Identifier", ["[0", "]0"], "Data types exported by this module"],
    [7, "bounds", "Bounds", ["[0"], "Schema-wide upper bounds"]
  ]],

  ["Import", "Array", [], "Imported module id and unique name", [
    [1, "nsid", "Nsid", [], "A short local identifier (namespace id) used within this module to refer to the imported module"],
    [2, "uname", "Uname", [], "Unique name of imported module"]
  ]],

  ["Bounds", "Array", [], "Schema-wide default upper bounds.  Overrides codec defaults, overridden by type definitions", [
    [1, "max_msg", "Integer", [], "Maximum serialized message size in octets or characters"],
    [2, "max_str", "Integer", [], "Maximum string length in characters"],
    [3, "max_bin", "Integer", [], "Maximum binary length in octets"],
    [4, "max_fields", "Integer", [], "Maximum number of elements in ArrayOf"]
  ]],

  ["Type", "Array", [], "", [
    [1, "tname", "Identifier", [], "Name of this datatype"],
    [2, "btype", "Enumerated", ["*JADN-Type"], "Base type.  Enumerated value derived from list of JADN data types"],
    [3, "opts", "Options", [], "Type options"],
    [4, "desc", "String", [], "Description of this data type"],
    [5, "fields", "JADN-Type", ["&2", "]0"], "List of fields for compound types.  Not present for primitive types"]
  ]],

  ["JADN-Type", "Choice", [], "", [
    [1, "Binary", "Null", [], "Octet (binary) string"],
    [2, "Boolean", "Null", [], "True or False"],
    [3, "Integer", "Null", [], "Whole number"],
    [4, "Number", "Null", [], "Real number"],
    [5, "Null", "Null", [], "Nothing"],
    [6, "String", "Null", [], "Character (text) string"],
    [7, "Array", "FullField", ["]0"], "Ordered list of unnamed fields"],
    [8, "ArrayOf", "Null", [], "Ordered list of fields of a specified type"],
    [9, "Choice", "FullField", ["]0"], "One of a set of named fields"],
    [10, "Enumerated", "EnumField", ["]0"], "One of a set of id:name pairs"],
    [11, "Map", "FullField", ["]0"], "Unordered set of named fields"],
    [12, "Record", "FullField", ["]0"], "Ordered list of named fields"]
  ]],

  ["EnumField", "Array", [], "Item definition for Enumerated types", [
    [1, "", "Integer", [], "Item ID"],
    [2, "", "String", [], "Item name"],
    [3, "", "String", [], "Item description"]
  ]],

  ["FullField", "Array", [], "Field definition for other compound types", [
    [1, "", "Integer", [], "Field ID or ordinal position"],
    [2, "", "Identifier", [], "Field name"],
    [3, "", "Identifier", [], "Field type"],
    [4, "", "Options", [], "Field options"],
    [5, "", "String", [], "Field description"]
  ]],

  ["Identifier", "String", ["$^[a-zA-Z][\\w-]*$", "[1", "]32"], "A string starting with an alpha char followed by zero or more alphanumeric / underscore / dash chars"],

  ["Nsid", "String", ["$^[a-zA-Z][\\w-]*$", "[1", "]8"], "Namespace ID - a short identifier"],

  ["Uname", "String", ["[1", "]100"], "Unique name (e.g., of a schema) - typically a set of Identifiers separated by forward slashes"],

  ["Options", "ArrayOf", ["*Option", "[0", "]10"], "Options list may be empty but may not be omitted"],

  ["Option", "String", ["[1", "]100"], "Option string: 1st char = option id"]
 ]
}
